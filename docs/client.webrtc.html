<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>deepstream.io | WebRTC Api documentation</title>

	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="keywords" content="deepstream, deepstream.io, streaming, realtime, server, socket" />
	<meta name="description" content="Web Real Time Communication with deepstream.io" />
	<meta name="author" content="Wolfram Hempel" />
	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="icon" href="/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" type="text/css" href="../assets/css/navigation.css" />
	<link rel="stylesheet" type="text/css" href="../assets/css/screen.css" />
	<link rel="stylesheet" type="text/css" href="../assets/css/api.css" />
	<script type="text/javascript">
	document.createElement( 'header' );
	document.createElement( 'nav' );
	</script>
	<script type="text/javascript" src="../assets/js/jquery.js"></script>
	<script type="text/javascript" src="../assets/js/menu.js"></script>
	<script type="text/javascript" src="../assets/js/prism.js"></script>

	<link href='//fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
	<link href='//fonts.googleapis.com/css?family=Quicksand:300,400,700' rel='stylesheet' type='text/css'>
	<link href='//fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="../assets/css/prism.css" />
</head>

<body class="category_docs ">
	<div class="mobile-menu">
		<div class="nav mobile-nav">
			<ul>
				<li >
					<a href="..">Home</a>
				</li>
				
				<li >
					<a href="../download/">Downloads</a>
				</li>
				
				<li >
					<a href="../tutorials/getting-started.html">Tutorials</a>
					
				</li>
				
				<li class="active">
					<a href="../docs/deepstream.html">Documentation</a>
					
						<ul id="subnav">
				<li class="head first">Server</li>
				<li >
					<a href="deepstream.html">Deepstream</a>
					<div class="isActiveIndicator orangeGradient"></div>
					
				</li>
				<li >
					<a href="constants.html">Constants</a>
					<div class="isActiveIndicator orangeGradient"></div>
					
				</li>
			
			
				<li class="head">JS Client</li>
				<li >
					<a href="client.html">Client</a>
					<div class="isActiveIndicator orangeGradient"></div>
					
				</li>
			
				<li >
					<a href="client_options.html">options</a>
					<div class="isActiveIndicator orangeGradient"></div>
				</li>
			
				<li >
					<a href="connection_states.html">connectionStates</a>
					<div class="isActiveIndicator orangeGradient"></div>
				</li>
			
				<li >
					<a href="client_errors.html">errors</a>
					<div class="isActiveIndicator orangeGradient"></div>
				</li>
			
				<li >
					<a href="event_emitter.html">EventEmitter</a>
					<div class="isActiveIndicator orangeGradient"></div>
					
				</li>
			
				<li class="de-emphasized">Record</li>
				<li >
					<a href="client.record.html">client.record</a>
					<div class="isActiveIndicator orangeGradient"></div>
					
				</li>
			
				<li >
					<a href="record.html">Record</a>
					<div class="isActiveIndicator orangeGradient"></div>
					
				</li>
			
				<li >
					<a href="list.html">List</a>
					<div class="isActiveIndicator orangeGradient"></div>
					
				</li>
			
				<li >
					<a href="anonymous_record.html">Anonymous Record</a>
					<div class="isActiveIndicator orangeGradient"></div>
					
				</li>
			
				<li class="de-emphasized">RPC</li>
				<li >
					<a href="client.rpc.html">client.rpc</a>
					<div class="isActiveIndicator orangeGradient"></div>
					
				</li>
			
				<li >
					<a href="rpc_response.html">RpcResponse</a>
					<div class="isActiveIndicator orangeGradient"></div>
					
				</li>
			
				<li class="de-emphasized">Event</li>
				<li >
					<a href="client.event.html">client.event</a>
					<div class="isActiveIndicator orangeGradient"></div>
					
				</li>
			
				<li class="de-emphasized">WebRTC</li>
				<li class="active">
					<a href="client.webrtc.html">client.webrtc</a>
					<div class="isActiveIndicator orangeGradient"></div>
					<ul class="overview">
					<li><a href="#client.webrtc.registerCallee(calleeName,onCallFn)">client.webrtc.registerCallee(calleeName,onCallFn)</a></li>
					<li><a href="#client.webrtc.unregisterCallee(calleeName)">client.webrtc.unregisterCallee(calleeName)</a></li>
					<li><a href="#client.webrtc.makeCall(calleeName,metaData,localStream)">client.webrtc.makeCall(calleeName,metaData,localStream)</a></li>
					<li><a href="#client.webrtc.listenForCallees(callback)">client.webrtc.listenForCallees(callback)</a></li>
					<li><a href="#client.webrtc.unlistenForCallees()">client.webrtc.unlistenForCallees()</a></li>
			</ul>
				</li>
				<li >
					<a href="webrtc_call.html">WebRTC Call</a>
					<div class="isActiveIndicator orangeGradient"></div>
					
				</li>
			</ul>
				
					
				</li>
				
				<li >
					<a href="../blog/">Blog</a>
				</li>
			
				<li >
					<a href="../info/">Info</a>
					
				</li>
			
			</ul>		</div>
	</div>

	<div id="outer-wrapper">
		<div id="header" class="compact-header">
			<div class="header-tiny-logo">
				<h1><a href="..">deepstream.io - a scalable server for realtime web apps</a></h1>
			</div>
			<a href="//deepstreamHub.com/careers"  class="header-hiring-link">
				<span class="header-hiring-text">we're hiring!</span>
			</a>
			<div class="nav desktop-nav">
				<ul>
					<li >
						<a href="..">Home</a>
					</li>
					
					<li >
						<a href="../download/">Downloads</a>
					</li>
					
					<li >
						<a href="../tutorials/getting-started.html">Tutorials</a>
						
					</li>
					
					<li class="active">
						<a href="../docs/deepstream.html">Documentation</a>
						
							<ul id="subnav">
					<li class="head first">Server</li>
					<li >
						<a href="deepstream.html">Deepstream</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
					<li >
						<a href="constants.html">Constants</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
				
					<li class="head">JS Client</li>
					<li >
						<a href="client.html">Client</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
					<li >
						<a href="client_options.html">options</a>
						<div class="isActiveIndicator orangeGradient"></div>
					</li>
				
					<li >
						<a href="connection_states.html">connectionStates</a>
						<div class="isActiveIndicator orangeGradient"></div>
					</li>
				
					<li >
						<a href="client_errors.html">errors</a>
						<div class="isActiveIndicator orangeGradient"></div>
					</li>
				
					<li >
						<a href="event_emitter.html">EventEmitter</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
					<li class="de-emphasized">Record</li>
					<li >
						<a href="client.record.html">client.record</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
					<li >
						<a href="record.html">Record</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
					<li >
						<a href="list.html">List</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
					<li >
						<a href="anonymous_record.html">Anonymous Record</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
					<li class="de-emphasized">RPC</li>
					<li >
						<a href="client.rpc.html">client.rpc</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
					<li >
						<a href="rpc_response.html">RpcResponse</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
					<li class="de-emphasized">Event</li>
					<li >
						<a href="client.event.html">client.event</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
					<li class="de-emphasized">WebRTC</li>
					<li class="active">
						<a href="client.webrtc.html">client.webrtc</a>
						<div class="isActiveIndicator orangeGradient"></div>
						<ul class="overview">
						<li><a href="#client.webrtc.registerCallee(calleeName,onCallFn)">client.webrtc.registerCallee(calleeName,onCallFn)</a></li>
						<li><a href="#client.webrtc.unregisterCallee(calleeName)">client.webrtc.unregisterCallee(calleeName)</a></li>
						<li><a href="#client.webrtc.makeCall(calleeName,metaData,localStream)">client.webrtc.makeCall(calleeName,metaData,localStream)</a></li>
						<li><a href="#client.webrtc.listenForCallees(callback)">client.webrtc.listenForCallees(callback)</a></li>
						<li><a href="#client.webrtc.unlistenForCallees()">client.webrtc.unlistenForCallees()</a></li>
				</ul>
					</li>
					<li >
						<a href="webrtc_call.html">WebRTC Call</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				</ul>
					
						
					</li>
					
					<li >
						<a href="../blog/">Blog</a>
					</li>
				
					<li >
						<a href="../info/">Info</a>
						
					</li>
				
				</ul>			</div>
			<span class="menu-button menu-icon">
				<i class="fa fa-bars"></i>
			</span>
		</div>
		<div id="wrapper" class="main">
			<ul id="subnav">
	<li class="head first">Server</li>
	<li >
		<a href="deepstream.html">Deepstream</a>
		<div class="isActiveIndicator orangeGradient"></div>
		
	</li>
	<li >
		<a href="constants.html">Constants</a>
		<div class="isActiveIndicator orangeGradient"></div>
		
	</li>


	<li class="head">JS Client</li>
	<li >
		<a href="client.html">Client</a>
		<div class="isActiveIndicator orangeGradient"></div>
		
	</li>

	<li >
		<a href="client_options.html">options</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>

	<li >
		<a href="connection_states.html">connectionStates</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>

	<li >
		<a href="client_errors.html">errors</a>
		<div class="isActiveIndicator orangeGradient"></div>
	</li>

	<li >
		<a href="event_emitter.html">EventEmitter</a>
		<div class="isActiveIndicator orangeGradient"></div>
		
	</li>

	<li class="de-emphasized">Record</li>
	<li >
		<a href="client.record.html">client.record</a>
		<div class="isActiveIndicator orangeGradient"></div>
		
	</li>

	<li >
		<a href="record.html">Record</a>
		<div class="isActiveIndicator orangeGradient"></div>
		
	</li>

	<li >
		<a href="list.html">List</a>
		<div class="isActiveIndicator orangeGradient"></div>
		
	</li>

	<li >
		<a href="anonymous_record.html">Anonymous Record</a>
		<div class="isActiveIndicator orangeGradient"></div>
		
	</li>

	<li class="de-emphasized">RPC</li>
	<li >
		<a href="client.rpc.html">client.rpc</a>
		<div class="isActiveIndicator orangeGradient"></div>
		
	</li>

	<li >
		<a href="rpc_response.html">RpcResponse</a>
		<div class="isActiveIndicator orangeGradient"></div>
		
	</li>

	<li class="de-emphasized">Event</li>
	<li >
		<a href="client.event.html">client.event</a>
		<div class="isActiveIndicator orangeGradient"></div>
		
	</li>

	<li class="de-emphasized">WebRTC</li>
	<li class="active">
		<a href="client.webrtc.html">client.webrtc</a>
		<div class="isActiveIndicator orangeGradient"></div>
		<ul class="overview">
		<li><a href="#client.webrtc.registerCallee(calleeName,onCallFn)">client.webrtc.registerCallee(calleeName,onCallFn)</a></li>
		<li><a href="#client.webrtc.unregisterCallee(calleeName)">client.webrtc.unregisterCallee(calleeName)</a></li>
		<li><a href="#client.webrtc.makeCall(calleeName,metaData,localStream)">client.webrtc.makeCall(calleeName,metaData,localStream)</a></li>
		<li><a href="#client.webrtc.listenForCallees(callback)">client.webrtc.listenForCallees(callback)</a></li>
		<li><a href="#client.webrtc.unlistenForCallees()">client.webrtc.unlistenForCallees()</a></li>
</ul>
	</li>
	<li >
		<a href="webrtc_call.html">WebRTC Call</a>
		<div class="isActiveIndicator orangeGradient"></div>
		
	</li>
</ul>

			<div id="content">
				<div class="section"><h2><a name="client.webrtc.registerCallee(calleeName,onCallFn)">client.webrtc.registerCallee( calleeName, onCallFn )</a></h2><table class="args"><thead><tr><th>argument</th><th>type</th><th>optional</th><th>default</th><th>description</th></tr></thead><tbody><tr><td class="argument">calleeName</td><td class="type">String</td><td class="optional">false</td><td class="default">-</td><td class="description">the name of the callee</td></tr><tr><td class="argument">onCallFn</td><td class="type">Function</td><td class="optional">false</td><td class="default">-</td><td class="description">a function that will be invoked for incoming calls with a <a href="webrtc_call.html">WebRTCCall</a> and metaData.</td></tr></tbody></table><p>Register a callable endpoint (an entry in a phonebook) that other clients can call using <code>makeCall</code>. A client can register multiple callees, however, every callee can only be registered once.</p><pre><code class="lang-javascript">ds.webrtc.registerCallee( &#39;Peter Venkman&#39;, function( call, metaData ){
    if( metaData.callerName === &#39;Walter Peck&#39; ) {
        call.decline( &#39;Nope, not interested.&#39; );
    } else {
        getUserMedia({ video: true, audio: true }, function( localStream ){
            call.accept( localStream );
        }, function( error ){
            throw error;
        });
    }

    call.on( &#39;established&#39;, function( remoteStream ){
        myVideo.src = URL.createObjectURL( remoteStream );
    });
});
</code></pre>
</div><div class="section"><h2><a name="client.webrtc.unregisterCallee(calleeName)">client.webrtc.unregisterCallee( calleeName )</a></h2><table class="args"><thead><tr><th>argument</th><th>type</th><th>optional</th><th>default</th><th>description</th></tr></thead><tbody><tr><td class="argument">calleeName</td><td class="type">String</td><td class="optional">false</td><td class="default">-</td><td class="description">the name of the previously registered callee</td></tr></tbody></table><p>Un-register a callee that was previously registered using <code>client.webrtc.registerCallee</code></p></div><div class="section"><h2><a name="client.webrtc.makeCall(calleeName,metaData,localStream)">client.webrtc.makeCall( calleeName, metaData, localStream ) </a></h2><table class="args"><thead><tr><th>argument</th><th>type</th><th>optional</th><th>default</th><th>description</th></tr></thead><tbody><tr><td class="argument">calleeName</td><td class="type">String</td><td class="optional">false</td><td class="default">-</td><td class="description">the name of a callee that another client registered</td></tr><tr><td class="argument">metaData</td><td class="type">Mixed</td><td class="optional">true</td><td class="default">-</td><td class="description">Arbitrary data that&#39;s send to the callee to help identify the caller and decide whether to accept or decline the call</td></tr><tr><td class="argument">localStream</td><td class="type">MediaStream</td><td class="optional">false</td><td class="default">-</td><td class="description">An instance of a <a href="//developer.mozilla.org/en/docs/Web/API/MediaStream">HTML5 MediaStream</a></td></tr></tbody></table><p>Establishes a call with <code>calleeName</code> and returns an instance of <a href="webrtc_call.html">WebRTCCall</a></p><pre><code class="lang-javascript">getUserMedia({ video: true, audio: true }, function( localStream ){
    var metaData = { callerName: &#39;Raymond Stantz&#39; };
    var call = ds.webrtc.makeCall( &#39;Peter Venkman&#39;, metaData, localStream );

    call.on( &#39;established&#39;, function( remoteStream ){
        myVideo.src = URL.createObjectURL( remoteStream );
    });

    call.on( &#39;declined&#39;, function( reason ){
        console.log( &#39;Call declined because of &#39; + reason );
    });
}, function( error ){
    throw error;
});
</code></pre>
</div><div class="section"><h2><a name="client.webrtc.listenForCallees(callback)">client.webrtc.listenForCallees( callback )</a></h2><table class="args"><thead><tr><th>argument</th><th>type</th><th>optional</th><th>default</th><th>description</th></tr></thead><tbody><tr><td class="argument">callback</td><td class="type">Function</td><td class="optional">false</td><td class="default">-</td><td class="description">a callback that will be invoked with a list of callees</td></tr></tbody></table><p>Listen for changes to the list of registered callees. Callback will be invoked initially with the full list
of currently registered calleeNames and from thereon with an updated list of callees for every change. Only one calleeListener can be registered per client (but its easy to multiplex updates from there, e.g. by using an event emitter.)</p><pre><code class="lang-javascript">client.webrtc.listenForCallees(function( calleeNames ){
    /*
         + calleeNames = [
         +    &#39;Peter Venkman&#39;, 
         +    &#39;Raymond Stantz&#39;, 
         +    &#39;Egon Spengler&#39;, 
         +    &#39;Winston Zeddmore&#39;
         + ]
     */
    $scope.callees = calleeNames;
    $scope.$apply();
});
</code></pre>
</div><div class="section"><h2><a name="client.webrtc.unlistenForCallees()">client.webrtc.unlistenForCallees()</a></h2><p>Informs deepstream that the client is no longer interested in callee updates
</div></p>
			</div>
		</div>
		<script type="text/javascript" src="../assets/js/docs.js"></script>
	</div>
	<div id="footer">
		<ul class="footer-items">

			<li class="footer-right">
				<ul class="social">
					<li class="twitter">
						<a href="//twitter.com/deepstreamIO">
							<i class="fa fa-twitter"></i>  Twitter
						</a>
					</li>
					<li class="github">
						<a href="//github.com/deepstreamIO">
							<i class="fa fa-github"></i>  Github
						</a>
					</li>
					<a href="//www.facebook.com/deepstreamIO/">
						<i class="fa fa-facebook"></i>  Facebook
					</a>
					<li class="stack-overflow">
						<a href="http://stackoverflow.com/questions/tagged/deepstream.io">
							<i class="fa fa-stack-overflow"></i>  Stack Overflow
						</a>
					</li>
					<li>
						<a href="//deepstream-slack.herokuapp.com/">
							<i class="fa fa-slack"></i>  Slack
						</a>
					</li>
				</ul>
			</li>

			<li class="footer-middle">
				<h4>Browse</h4>
				<ul>
					<li >
						<a href="..">Home</a>
					</li>
					
					<li >
						<a href="../download/">Downloads</a>
					</li>
					
					<li >
						<a href="../tutorials/getting-started.html">Tutorials</a>
						
					</li>
					
					<li class="active">
						<a href="../docs/deepstream.html">Documentation</a>
						
							<ul id="subnav">
					<li class="head first">Server</li>
					<li >
						<a href="deepstream.html">Deepstream</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
					<li >
						<a href="constants.html">Constants</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
				
					<li class="head">JS Client</li>
					<li >
						<a href="client.html">Client</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
					<li >
						<a href="client_options.html">options</a>
						<div class="isActiveIndicator orangeGradient"></div>
					</li>
				
					<li >
						<a href="connection_states.html">connectionStates</a>
						<div class="isActiveIndicator orangeGradient"></div>
					</li>
				
					<li >
						<a href="client_errors.html">errors</a>
						<div class="isActiveIndicator orangeGradient"></div>
					</li>
				
					<li >
						<a href="event_emitter.html">EventEmitter</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
					<li class="de-emphasized">Record</li>
					<li >
						<a href="client.record.html">client.record</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
					<li >
						<a href="record.html">Record</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
					<li >
						<a href="list.html">List</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
					<li >
						<a href="anonymous_record.html">Anonymous Record</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
					<li class="de-emphasized">RPC</li>
					<li >
						<a href="client.rpc.html">client.rpc</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
					<li >
						<a href="rpc_response.html">RpcResponse</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
					<li class="de-emphasized">Event</li>
					<li >
						<a href="client.event.html">client.event</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				
					<li class="de-emphasized">WebRTC</li>
					<li class="active">
						<a href="client.webrtc.html">client.webrtc</a>
						<div class="isActiveIndicator orangeGradient"></div>
						<ul class="overview">
						<li><a href="#client.webrtc.registerCallee(calleeName,onCallFn)">client.webrtc.registerCallee(calleeName,onCallFn)</a></li>
						<li><a href="#client.webrtc.unregisterCallee(calleeName)">client.webrtc.unregisterCallee(calleeName)</a></li>
						<li><a href="#client.webrtc.makeCall(calleeName,metaData,localStream)">client.webrtc.makeCall(calleeName,metaData,localStream)</a></li>
						<li><a href="#client.webrtc.listenForCallees(callback)">client.webrtc.listenForCallees(callback)</a></li>
						<li><a href="#client.webrtc.unlistenForCallees()">client.webrtc.unlistenForCallees()</a></li>
				</ul>
					</li>
					<li >
						<a href="webrtc_call.html">WebRTC Call</a>
						<div class="isActiveIndicator orangeGradient"></div>
						
					</li>
				</ul>
					
						
					</li>
					
					<li >
						<a href="../blog/">Blog</a>
					</li>
				
					<li >
						<a href="../info/">Info</a>
						
					</li>
				
				</ul>			</li>

			<li class="footer-left">
				<h4>Star this project on github!</h4>
				<p>
					<a class="github-button" href="//github.com/deepstreamIO/deepstream.io" data-icon="octicon-star" data-style="mega" data-count-href="/deepstreamIO/deepstream.io/stargazers" data-count-api="/repos/deepstreamIO/deepstream.io#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star deepstreamIO/deepstream.io on GitHub">Star</a>
				</p>

				<h4>Contact the team</h4>
				<p>
					<a href="mailto:info@deepstream.io">info@deepstream.io</a>
					<ul class="address">
						<li><strong>deepstreamHub GmbH</strong></li>
						<li>Lindenstrasse 20-25</li>
						<li>10969 Berlin</li>
						<li>Germany</li>
					</ul>
				</p>
			</li>

		</ul>
	</div>


	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-63583386-1', 'auto');
		ga('send', 'pageview');
	</script>
	<script async defer id="github-bjs" src="//buttons.github.io/buttons.js"></script>
</body>
</html>
